---
title: 快手面试
date: 2023-08-30 16:36:18
tags:
- 编程
- 八股
- C++
categories:
- 学习
- 编程
- 面试
---

## 客户端开发面试要点

1. 浏览器输入网址回车后，都发生了什么
   1. URL解析：浏览器对URL进行解析，解析出协议、域名、端口、资源路径、参数等
   2. 域名解析：将域名转化为相应的IP地址
      1. 递归查询：本地域名服务器向根域名、顶级域名、权限域名发起请求（除了一开始客户端发起查询请求外，其他环节都是本地域名服务器替代客户端进行的）
      2. 迭代查询：所有查询工作全部由客户端进行
   3. TCP连接（三次握手）
      1. 第一次握手：客户端将报文标志位SYN置位1，并随机产生序列号为J，保存在TCP首部的序列号字段，并将该数据包发送给服务端，数据包发送完毕，客户端进入SYN_SENT状态，等待服务端确认。（同步标志位为1的包SYN、初始序列号）
      2. 第二次握手：服务端收到数据包后由标志位SYN=1得知客户端想要建立连接，并将报文的标志位SYN和ACK都置为1，ack=seq+1.并随机产生序列号seq=K，并将数据包发送给客户端确认建立连接请求，数据发送后，服务端进入SYN+RCVD状态（确认标志位为1ACK、SYN标志位为1、初始序列号、客户端的初始序列号+1）
      3. 第三次握手：客户端收到数据包，检查ack是否为J+1,检查正确，则将标志位ACK置为1，并将数据发送给服务端，服务端检查ACK是否为1，ack是否为K+1，检查正确，建立了连接，此时客户端、服务端都进入了ESTABLISHED状态,完成三次握手,客户端和
         服务端可以开始传输数据。
   4. http请求：TCP建立成功后，客户端发送http请求报文到服务端，http请求报文有四部分组成：请求行、请求头、空行、消息体
   5. 响应请求：当服务器接收到客户端的请求之后，会进行逻辑处理，处理完之后，会返回给客户端一个http响应数据
   6. 页面渲染：当浏览器接收到服务器的响应数据，会解析html，请求js、css等资源，最后进行页面渲染，呈现给用户。
   7. 三次握手
   8. Q：三次握手多一次少一次行不行，为什么不行
      1. 多于三次：会增加连接建立的时间和开销。
      2. 少于三次：可能会引发不同的问题，显著的是半开连接，只有两次握手，一方认为连接已经生成，但是另一方并不知情，导致资源的浪费和状态不一致
2. 四次挥手：
   1. 第一次挥手：客户端发送一个FIN，用于关闭Client到Server的数据传送，客户端进入FIN_WAIT_1状态。
   2. 第二次挥手：服务端收到FIN后，发送一个ACK给客户端，确认序号为收到序号+1，Server进入CLOSE_WAIT状态
   3. 第三次挥手：Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入LAST_ACK状态
   4. 第四次挥手：Client收到FIN后，Client进入TIME_WAIT状态，接着发送一个ACK给Server，确认序号为收到序号+1，Server进入CLOSED状态，完成四次挥手
   5. 为什么是四次？：这是因为服务端在LISTEN状态下，收到建立连接请求的SYN报文后，把ACK和SYN放在一个报文里发送给客户端。而关闭连接时，当收到对方的FIN报文时，仅仅表示对方不再发送数据了但是还能接收数据，己方也未必全部数据都发送给对方了，所以己方可以立即close，也可以发送一些数据给对方后，再发送FIN报文给对方来表示同意现在关闭连接，因此，己方ACK和FIN一般都会分开发送。
3. TCP和UDP的区别
   1. 连接：TCP面向连接，UDP不需要连接
   2. 服务对象：TCP是一对一的两点服务，UDP支持一对一、一对多、多对多的交互通信
   3. 可靠性：
      1. TCP是可靠交付数据的，数据可以无差错、不丢失、无重复、按需到达
      2. UDP是尽最大努力交付，不保证可靠交付数据
   4. 拥塞控制、流量控制：
      1. TCP有拥塞控制和流量控制机制，保证数据传输的安全性
      2. UDP则没有，即使网络非常拥堵了，也不会影响UDP的发送速率。
   5. 首部开销：
      1. TCP首部较长，20个字节往上
      2. UDP首部只有8个字节
   6. 传输方式
      1. TCP是流式传输，没有边界，但是保证顺序和可靠
      2. UDP是一个包一个包的发送，是有边界的，但是有可能会丢包和乱序
   7. 分片不同：
      1. TCP的数据大小如果大于MSS大小，则会在传输层进行分片，目标主机收到后，也会在传输层组装TCP数据包，如果中途丢失了一个分片，只需要传输丢失的这个分片。
      2. UDP的数据大小如果大于MTU大小，则会在IP层进行分片，目标主机收到后，在IP层组装完数据，接着再传给传输层
   8. 应用场景：
      1. TCP经常用于FTP文件传输、HTTP/HTTPS
      2. UDP经常用于——DNS、SNMP等，视频、音频等多媒体通信、广播通信
4. HTTP和HTTPS的区别，七层模型，HTTP在哪一层？
   1. 区别：
      1. 安全性不同：http是无状态、明文传输的，https是http加上ssl协议组合成的加密传输协议。
      2. 响应速度：http更快，只需要三次握手，http还需要ssl握手
      3. 端口：http80端口，https443端口
      4. 消耗资源：https会消耗更多服务器资源
   2. 七层模型：
      1. 物理层
      2. 数据链路层
      3. 网络层
      4. 传输层
      5. 会话层
      6. 表示层
      7. 应用层
5. 了解域名吗？有什么用，了解dns吗
   1. 域名是一个在互联网标识和定位计算机或服务的人类可读的文本名称，他将IP地址转化为了易于理解的字符串，起来了类似地址的作用。
   2. 域名系统，是将域名转换为向一个IP地址的系统，
   3. 域名解析、查询、DNS记录、缓存
6. 进程和线程
   1. 进程是程序的一次执行实例，每个进程都有自己独立的内存空间、数据和系统资源
   2. 线程是进程内的执行单元，多个线程共享进程的内存和资源
7. CPP的面向对象相比面向过程有什么优势
8. CPP多态是什么？
9. 写完代码后，代码运行变成二进制中间有什么过程？
   1. 预处理
   2. 编译
   3. 汇编
   4. 连接
   5. 生成可执行文件
   6. 加载和执行
10. 算法题：
   1. 判断链表是否有环：快慢指针，一个指针每次向下移动一个节点，另外一个指针每次向下移动两个节点
   2. 怎么判断环的长度：两个快慢指针相遇后，将其中一个指针置为头指针，然后另外一个指针不动这个指针开始移动，到达相遇点时走的路径即为环的长度
   3. 求环的入口：f = 2nb,s = nb,重置快指针，f = a,s = a + nb,在入口相遇
   4. 求数组连续子数组的最大值：动态规划，记录以i为数组下标和子数组末尾的最大子数组
   5. 三个线程轮流输出0-100：
   6. 二维数组顺时针打印输出：left,right,bottom,top
11. CPU的最小时间周期是什么？
    1. 时钟周期
12. CPU的指令怎么使用？
13. 进程间的通信方式
14. 介绍一下虚拟内存到物理内存的映射
15. 内存页的大小
16. 内存页大小越大越好？还是越小越好，大了有什么影响，小了有什么影响
17. 说一下缺页中断
18. 说一下什么是内存交换
19. 说一下ios七层网络模型？
20. 网络层有哪些协议？
21. ArrayList和LinkedList的区别
22. HashMap底层数据结构
23. ConcurrentHashMap怎么保证同步的
24. HashMap红黑树的长度一直增加吗？（扩容再哈希）
25. 哈希冲突产生的原因
26. 进程和线程的区别，进程间、线程间可通信吗？
27. static加在类、方法、变量上有什么区别吗？
    1. 
28. 双亲委派制度，好处
29. volatile的用处
